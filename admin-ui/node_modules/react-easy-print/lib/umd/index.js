!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.ReactEasyPrint={},e.React,e.ReactDOM)}(this,function(e,t,n){"use strict";function r(e){return function(){return e}}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};var s=function(e,t,n,r,i,o,s,p){if(a(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,p],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;var u,f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",d=(function(e){e.exports=function(){function e(e,t,n,r,i,o){o!==f&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}()}(u={exports:{}},u.exports),u.exports);var h=function(e,t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return n.splice(t,1),n},y=function(){var e;window.localStorage["react-easy-print-debug"]&&(e=console).log.apply(e,arguments)},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v={printRender:"easy-print-PrintProvider-printRender-S70b",hiddenAll:"easy-print-PrintProvider-hiddenAll-1V_W",wrap:"easy-print-PrintProvider-wrap-21G8",_loose:"easy-print-PrintProvider-_loose-2eYz",_invert:"easy-print-PrintProvider-_invert-1m-C"};require("load-styles")("/*  imported from PrintProvider.css  */\n\n@media print {\n  .easy-print-PrintProvider-printRender-S70b {\n    width: 100%;\n    background-color: #fff;\n    z-index: 10000000;\n    height: 100vh;\n    position: absolute;\n    top: 0;\n    left: 0\n  }\n  .easy-print-PrintProvider-hiddenAll-1V_W {\n    visibility: hidden ;\n  }\n  .easy-print-PrintProvider-hiddenAll-1V_W .react-easy-print-print {\n    visibility: hidden;\n  }\n  .easy-print-PrintProvider-wrap-21G8.easy-print-PrintProvider-_loose-2eYz:not(.easy-print-PrintProvider-_invert-1m-C) {\n    visibility: hidden;\n  }\n}\n");d.bool,d.node.isRequired,d.bool;var m={printProvider:d.shape({regPrintable:d.func.isRequired,unregPrintable:d.func.isRequired,isPrint:d.bool.isRequired}).isRequired},P=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={isInPrintPreview:!1,printableNodes:[]},t.printableRegistry={},window.matchMedia("print").onchange=function(){y("toggle print mode",window.matchMedia("print").matches),t.setState({isInPrintPreview:window.matchMedia("print").matches})},t.hasSingle=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t.PureComponent),b(r,[{key:"getChildContext",value:function(){return{printProvider:{isPrint:window.matchMedia("print").matches,regPrintable:this.regPrintable.bind(this),unregPrintable:this.unregPrintable.bind(this)}}}},{key:"hideAll",value:function(){document.body.classList.add(v.hiddenAll),this.hasSingle=!0}},{key:"unhideAll",value:function(){document.body.classList.remove(v.hiddenAll),this.hasSingle=!1}},{key:"regPrintable",value:function(e,t){var n=this,r=this.props.loose||this.props.invert,i=t.props.single||t.props.main,o=this.hasSingle;y("reg printable",e,t),void 0!==this.printableRegistry[e]||r||(setTimeout(function(){return n.setState({printableNodes:n.state.printableNodes.concat(t)})},0),this.printableRegistry[e]=this.state.printableNodes.length,i&&!o?this.hideAll():i&&console.warn(new Error("react-easy-print warning \n\t you're using more than one `single` Print component")))}},{key:"unregPrintable",value:function(e,t){var n=this.props.loose||this.props.invert;void 0===this.printableRegistry[e]||this.state.isInPrintPreview||n||(this.setState({printableNodes:h(this.state.printableNodes,this.printableRegistry[e])}),this.printableRegistry=Object.assign({},this.printableRegistry,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,void 0)),t&&this.unhideAll())}},{key:"createRender",value:function(e){var r=document.createElement("div");r.id="render",document.body.appendChild(r),n.render(t.createElement("div",{className:v.printRender},e),r)}},{key:"deleteRender",value:function(){var e=document.getElementById("render");e&&document.body.removeChild(e)}},{key:"render",value:function(){var e=this,n=this.state,r=n.isInPrintPreview,i=n.printableNodes,o=this.props.loose||this.props.invert,a=this.hasSingle;if(r&&i.length&&!o&&!a){y("render printable only",i);var s=t.Children.map(i,function(e,n){return t.cloneElement(e,{key:n})});this.createRender(t.createElement("div",null,s))}setTimeout(function(){return e.deleteRender()},0),y("render everything",r,i.length,!o);var p=o?v.loose:"",l=this.props.invert?v.invert:"";return t.createElement("div",{className:v.wrap+" "+p+" "+l+" "},this.props.children)}}]),r}();P.childContextTypes=m;var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w="easy-print-NoPrint-root-1A10",O="easy-print-NoPrint-_force-1-C_";require("load-styles")("/*  imported from NoPrint.css  */\n\n@media print {\n  .easy-print-NoPrint-root-1A10 {\n    visibility: hidden;\n  }\n  .easy-print-NoPrint-_force-1-C_ {\n    display: none;\n  }\n}\n");d.bool,d.node.isRequired;var _=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t.PureComponent),g(n,[{key:"render",value:function(){var e=this.props,n=e.children,r=e.force?O:"";return t.createElement("div",{className:w+" "+r},n)}}]),n}(),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j="easy-print-Print-_exclusive-3Eag",E="easy-print-Print-root-2BcA",T="easy-print-Print-_main-LssU";require("load-styles")("/*  imported from Print.css  */\n\n.easy-print-Print-_exclusive-3Eag {\n  display: none;\n}\n\n@media print {\n  .easy-print-Print-root-2BcA {\n    visibility: visible; /* visible element even nested in the hidden one */\n  }\n  .easy-print-Print-root-2BcA.easy-print-Print-_main-LssU {\n    visibility: visible;\n  }\n  .easy-print-Print-_exclusive-3Eag {\n    display: block;\n  }\n}\n");d.string,d.node.isRequired,d.bool,d.bool,d.bool,d.bool;var k=P.childContextTypes,x=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={printOffsetLeft:0,printOffsetTop:0},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t.Component),R(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.name){y("init printable",this.props.name);var r=this.props.main||this.props.single;this.context.printProvider&&this.context.printProvider.regPrintable(this.props.name,t.createElement(n,this.props),r)}(this.props.main||this.props.single)&&(window.matchMedia("print").onchange=function(){if(window.matchMedia("print").matches){var t=document.body.getBoundingClientRect(),n=e.printElement,r=n&&n.getBoundingClientRect(),i=r&&r.left-t.left,o=r&&r.top-t.top;e.setState({printOffsetTop:o,printOffsetLeft:i})}else e.setState({printOffsetTop:0,printOffsetLeft:0})})}},{key:"componentWillUnmount",value:function(){if(this.props.name){y("remove printable",this.props.name);var e=this.props.main||this.props.single;this.context.printProvider&&this.context.printProvider.unregPrintable(this.props.name,e)}(this.props.main||this.props.single)&&(window.matchMedia("print").onchange=null)}},{key:"render",value:function(){var e=this,n=this.props,r=n.children,i=n.main,o=n.single,a=n.exclusive,s=n.printOnly,p=this.state,l=p.printOffsetLeft,c=p.printOffsetTop,u=i||o?T:"",f=a||s?j:"",d=window.matchMedia("print").matches,h=(c||l)&&u&&d?{marginTop:-c,marginLeft:-l}:{},y="react-easy-print-print "+E+" "+u+" "+f;return t.createElement("div",{ref:function(t){return e.printElement=t},style:h,className:y},r)}}]),n}();x.contextTypes=k,e.PrintProvider=P,e.default=P,e.NoPrint=_,e.Print=x,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
